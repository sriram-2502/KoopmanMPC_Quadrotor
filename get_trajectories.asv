function [X_rnd, U_rnd] = get_trajectories(n_control,t_traj)
% function to random trajectories
% Inputs
% n     : number of random control inputs
% m     : trajectory length for each control input 
% outputs
% X_rnd : random trajectories generated with constant control input fo

%% generate random inputs for U
% generate n random inputs for 4 thrusters
% use multivariate random nomral distribution since inputs are correlated
net_weight = params.mass*params.g/4;
mu = [net_weight;net_weight;net_weight;net_weight]; % ensures flight
Sigma = diag([100;100;100;100]);
U_rnd = mvnrnd(mu,Sigma,n_control);

%% simulate random inputs for 50s to get trajectories
% states X = [x dx R wb]'
% initial condition is from rest (from ground)
x0 = [0;0;0]; dx0 = [0;0;0];
R0 = eye(3); wb0 = [0;0;0];
X0 = [x0;dx0;R0(:);wb0];

X_rnd = []; 
t_span = 0:0.01:t_traj;
for i=1:n
    % get control
    U = U_rnd(i,:)';

    % simulate Ode
    [t,X] = ode45(@(t,X)dynamics_SRB(t,X,U,params),t_span,X0);

    % collect data
    X_rnd = [X_rnd,X']; % [X(t1), X(t2), ..., X(tn)] stacked for each control input n
end
